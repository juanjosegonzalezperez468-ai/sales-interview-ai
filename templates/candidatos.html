<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candidatos | Sales AI</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/landing.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body style="background-color: var(--gray-50);">

    <nav class="navbar">
        <div class="container nav-container">
            <a href="/" class="logo">
                <div class="logo-icon">S</div>
                <span>SALES AI</span>
            </a>
            <div class="nav-actions">
                <a href="/dashboard" class="btn-secondary">Volver al Dashboard</a>
            </div>
        </div>
    </nav>

    <header class="page-hero">
        <div class="container">
            <h1>üéØ Centro de Candidatos</h1>
            <p>Gestiona y analiza los resultados de las evaluaciones por IA en tiempo real.</p>
        </div>
    </header>

    <main class="container" style="margin-top: var(--spacing-xl); margin-bottom: var(--spacing-2xl);">
        
        <div class="problem-card" style="width: 100%; overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; text-align: left;">
                <thead>
                    <tr style="border-bottom: 2px solid var(--gray-200);">
                        <th style="padding: var(--spacing-md); color: var(--gray-700);">CANDIDATO</th>
                        <th style="padding: var(--spacing-md); color: var(--gray-700);">CONTACTO</th>
                        <th style="padding: var(--spacing-md); color: var(--gray-700);">AUTORIZA</th>
                        <th style="padding: var(--spacing-md); color: var(--gray-700);">SCORE AI</th>
                        <th style="padding: var(--spacing-md); color: var(--gray-700);">ACCIONES</th>
                    </tr>
                </thead>
                <tbody>
                    {% for c in candidatos %}
                    <tr style="border-bottom: 1px solid var(--gray-100); transition: background 0.2s;" onmouseover="this.style.backgroundColor='#f9fafb'" onmouseout="this.style.backgroundColor='transparent'">
                        <td style="padding: var(--spacing-md);">
                            <div style="font-weight: 600; color: var(--gray-900);">{{ c.nombre_candidato }}</div>
                            <div style="font-size: 0.85rem; color: var(--gray-500);">ID: {{ c.identificacion }}</div>
                        </td>
                        
                        <td style="padding: var(--spacing-md);">
                            <div style="font-size: 0.9rem; color: var(--gray-700);">{{ c.telefono if c.telefono else 'N/A' }}</div>
                            <div style="font-size: 0.8rem; color: var(--primary-blue);">{{ c.email if c.email else '' }}</div>
                        </td>

                        <td style="padding: var(--spacing-md);">
                            {% if c.autoriza_datos == 'S√ç' %}
                                <span style="color: #065F46; background: #D1FAE5; padding: 4px 8px; border-radius: 6px; font-size: 0.75rem; font-weight: bold;">S√ç</span>
                            {% else %}
                                <span style="color: #991B1B; background: #FEE2E2; padding: 4px 8px; border-radius: 6px; font-size: 0.75rem; font-weight: bold;">NO</span>
                            {% endif %}
                        </td>
                        
                        <td style="padding: var(--spacing-md);">
                            <span class="score-mini {% if c.score|int >= 70 %}high{% elif c.score|int >= 40 %}medium{% else %}low{% endif %}">
                                {{ c.score if c.score is not none else 0 }}%
                            </span>
                        </td>

                        <td style="padding: var(--spacing-md);">
                            {% if c.telefono %}
                                <a href="https://wa.me/{{ c.telefono }}" target="_blank" class="btn-primary" style="text-decoration: none; padding: 0.6rem 1rem; font-size: 0.85rem; display: inline-block; width: auto;">
                                    WhatsApp
                                </a>
                            {% else %}
                                <button disabled style="background: var(--gray-300); color: white; border: none; padding: 0.6rem 1rem; border-radius: 0.75rem; cursor: not-allowed; font-size: 0.85rem;">
                                    Sin Tel√©fono
                                </button>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            
            {% if not candidatos %}
            <div style="padding: var(--spacing-2xl); text-align: center; color: var(--gray-500);">
                <p>No hay candidatos evaluados todav√≠a.</p>
            </div>
            {% endif %}
        </div>
    </main>

    <footer class="footer">
        <div class="container footer-bottom">
            <p>&copy; 2026 Sales AI - Sistema de Selecci√≥n Inteligente</p>
        </div>
    </footer>

</body>
</html>